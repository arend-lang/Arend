\import Logic
\import Set

\record Partial \extends BaseSet
  | isDefined : \Prop
  | \coerce value : isDefined -> E

\func defined {X : \Set} (x : X) : Partial X \cowith
  | isDefined => \Sigma
  | value _ => x

\func undefined {X : \Set} : Partial X \cowith
  | isDefined => Empty
  | value => \case __